{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "supamode.permission_groups": {
      "name": "permission_groups",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_system_group": {
          "name": "is_system_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_permission_groups_category": {
          "name": "idx_permission_groups_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "permission_groups_created_by_fkey": {
          "name": "permission_groups_created_by_fkey",
          "tableFrom": "permission_groups",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "permission_groups_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "permission_groups_name_key"
        }
      },
      "checkConstraints": {
        "permission_groups_metadata_check": {
          "name": "permission_groups_metadata_check",
          "value": "jsonb_typeof(metadata) = 'object'::text"
        }
      },
      "policies": {
        "view_permissions_groups": {
          "name": "view_permissions_groups",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((EXISTS ( SELECT 1\n   FROM (supamode.account_roles ar\n     JOIN supamode.role_permission_groups rpg ON ((ar.role_id = rpg.role_id)))\n  WHERE ((ar.account_id = supamode.get_current_user_account_id()) AND (rpg.group_id = permission_groups.id)))) OR (EXISTS ( SELECT 1\n   FROM supamode.accounts a\n  WHERE ((a.auth_user_id = ( SELECT auth.uid() AS uid)) AND (a.id = permission_groups.created_by)))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.accounts": {
      "name": "accounts",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "accounts_auth_user_id_fkey": {
          "name": "accounts_auth_user_id_fkey",
          "tableFrom": "accounts",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": [
            "auth_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "accounts_auth_user_id_key": {
          "columns": [
            "auth_user_id"
          ],
          "nullsNotDistinct": false,
          "name": "accounts_auth_user_id_key"
        }
      },
      "checkConstraints": {
        "accounts_metadata_check": {
          "name": "accounts_metadata_check",
          "value": "jsonb_typeof(metadata) = 'object'::text"
        }
      },
      "policies": {
        "select_accounts": {
          "name": "select_accounts",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(( SELECT auth.uid() AS uid) = auth_user_id)"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.roles": {
      "name": "roles",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_system_role": {
          "name": "is_system_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "max_members": {
          "name": "max_members",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "roles_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "roles_name_key"
        }
      },
      "checkConstraints": {
        "roles_metadata_check": {
          "name": "roles_metadata_check",
          "value": "jsonb_typeof(metadata) = 'object'::text"
        }
      },
      "policies": {
        "view_assigned_roles": {
          "name": "view_assigned_roles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM supamode.account_roles ar\n  WHERE ((ar.role_id = roles.id) AND (ar.account_id = supamode.get_current_user_account_id()))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.system_permissions": {
      "name": "system_permissions",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "resource": {
          "name": "resource",
          "type": "system_resource",
          "typeSchema": "supamode",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "required_roles": {
          "name": "required_roles",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_roles": {
          "name": "exclude_roles",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_permissions_resource_action_key": {
          "columns": [
            "resource",
            "action"
          ],
          "nullsNotDistinct": false,
          "name": "system_permissions_resource_action_key"
        },
        "system_permissions_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "system_permissions_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "view_system_permissions": {
          "name": "view_system_permissions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM supamode.role_system_permissions rsp\n  WHERE ((rsp.role_id = ( SELECT get_current_user_role.id\n           FROM supamode.get_current_user_role() get_current_user_role(id, name, description, created_at, updated_at, is_system_role, metadata, rank, category, max_members, valid_from, valid_until))) AND (rsp.system_permission_id = system_permissions.id))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.permissions": {
      "name": "permissions",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "permission_scope",
          "typeSchema": "supamode",
          "primaryKey": false,
          "notNull": true,
          "default": "'table'"
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "schema_name": {
          "name": "schema_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "default": "'public'"
        },
        "table_name": {
          "name": "table_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "column_name": {
          "name": "column_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "constraints": {
          "name": "constraints",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "permissions_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "permissions_name_key"
        }
      },
      "checkConstraints": {
        "valid_scope_data": {
          "name": "valid_scope_data",
          "value": "((scope = 'table'::supamode.permission_scope) AND (schema_name IS NOT NULL)) OR ((scope = 'schema'::supamode.permission_scope) AND (schema_name IS NOT NULL)) OR (scope = 'database'::supamode.permission_scope) OR ((scope = 'column'::supamode.permission_scope) AND (schema_name IS NOT NULL) AND (table_name IS NOT NULL) AND (column_name IS NOT NULL))"
        }
      },
      "policies": {
        "view_permissions": {
          "name": "view_permissions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM supamode.role_permissions rp\n  WHERE ((rp.role_id = ( SELECT get_current_user_role.id\n           FROM supamode.get_current_user_role() get_current_user_role(id, name, description, created_at, updated_at, is_system_role, metadata, rank, category, max_members, valid_from, valid_until))) AND (rp.permission_id = permissions.id))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.managed_tables": {
      "name": "managed_tables",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "schema_name": {
          "name": "schema_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "table_name": {
          "name": "table_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ordering": {
          "name": "ordering",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "ui_config": {
          "name": "ui_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "row_level_security": {
          "name": "row_level_security",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "triggers": {
          "name": "triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hidden_columns": {
          "name": "hidden_columns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"RAY\"}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_managed_tables_visibility": {
          "name": "idx_managed_tables_visibility",
          "columns": [
            {
              "expression": "is_visible",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_visible = true)",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "managed_tables_schema_name_table_name_key": {
          "columns": [
            "schema_name",
            "table_name"
          ],
          "nullsNotDistinct": false,
          "name": "managed_tables_schema_name_table_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "view_managed_tables": {
          "name": "view_managed_tables",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "supamode.has_data_permission(( SELECT auth.uid() AS uid), 'read'::character varying, schema_name, table_name)"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.managed_columns": {
      "name": "managed_columns",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "table_id": {
          "name": "table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "column_name": {
          "name": "column_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_unique": {
          "name": "is_unique",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_searchable": {
          "name": "is_searchable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_sortable": {
          "name": "is_sortable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_filterable": {
          "name": "is_filterable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ordinal_position": {
          "name": "ordinal_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "search_weight": {
          "name": "search_weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "default_value": {
          "name": "default_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "ui_config": {
          "name": "ui_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "foreign_key_config": {
          "name": "foreign_key_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "computed_expression": {
          "name": "computed_expression",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_managed_columns_table_visibility": {
          "name": "idx_managed_columns_table_visibility",
          "columns": [
            {
              "expression": "table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_visible",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "managed_columns_table_id_fkey": {
          "name": "managed_columns_table_id_fkey",
          "tableFrom": "managed_columns",
          "tableTo": "managed_tables",
          "schemaTo": "supamode",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "managed_columns_table_id_column_name_key": {
          "columns": [
            "table_id",
            "column_name"
          ],
          "nullsNotDistinct": false,
          "name": "managed_columns_table_id_column_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "view_managed_columns": {
          "name": "view_managed_columns",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM supamode.managed_tables mt\n  WHERE ((mt.id = managed_columns.table_id) AND supamode.has_data_permission(( SELECT auth.uid() AS uid), 'read'::character varying, mt.schema_name, mt.table_name, managed_columns.column_name))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.custom_views": {
      "name": "custom_views",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "table_id": {
          "name": "table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "view_type": {
          "name": "view_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_custom_views_table": {
          "name": "idx_custom_views_table",
          "columns": [
            {
              "expression": "table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "custom_views_table_id_fkey": {
          "name": "custom_views_table_id_fkey",
          "tableFrom": "custom_views",
          "tableTo": "managed_tables",
          "schemaTo": "supamode",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "custom_views_created_by_fkey": {
          "name": "custom_views_created_by_fkey",
          "tableFrom": "custom_views",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "view_custom_views": {
          "name": "view_custom_views",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "((created_by = supamode.get_current_user_account_id()) OR ((is_public = true) AND (supamode.get_current_user_account_id() IS NOT NULL)) OR (EXISTS ( SELECT 1\n   FROM supamode.managed_tables mt\n  WHERE ((mt.id = custom_views.table_id) AND supamode.has_data_permission(( SELECT auth.uid() AS uid), 'table'::character varying, 'read'::character varying, mt.schema_name, mt.table_name)))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.table_relations": {
      "name": "table_relations",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "source_table_id": {
          "name": "source_table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_table_id": {
          "name": "target_table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relation_type": {
          "name": "relation_type",
          "type": "relation_type",
          "typeSchema": "supamode",
          "primaryKey": false,
          "notNull": true
        },
        "source_column": {
          "name": "source_column",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "target_column": {
          "name": "target_column",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "junction_table": {
          "name": "junction_table",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "junction_source_column": {
          "name": "junction_source_column",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "junction_target_column": {
          "name": "junction_target_column",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "on_delete": {
          "name": "on_delete",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'NO ACTION'"
        },
        "on_update": {
          "name": "on_update",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'NO ACTION'"
        },
        "display_fields": {
          "name": "display_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_table_relations_source": {
          "name": "idx_table_relations_source",
          "columns": [
            {
              "expression": "source_table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "relation_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_table_relations_target": {
          "name": "idx_table_relations_target",
          "columns": [
            {
              "expression": "target_table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "relation_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "table_relations_source_table_id_fkey": {
          "name": "table_relations_source_table_id_fkey",
          "tableFrom": "table_relations",
          "tableTo": "managed_tables",
          "schemaTo": "supamode",
          "columnsFrom": [
            "source_table_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "table_relations_target_table_id_fkey": {
          "name": "table_relations_target_table_id_fkey",
          "tableFrom": "table_relations",
          "tableTo": "managed_tables",
          "schemaTo": "supamode",
          "columnsFrom": [
            "target_table_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_junction_table": {
          "name": "valid_junction_table",
          "value": "((relation_type = 'many_to_many'::supamode.relation_type) AND (junction_table IS NOT NULL)) OR ((relation_type <> 'many_to_many'::supamode.relation_type) AND (junction_table IS NULL))"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "supamode.saved_filters": {
      "name": "saved_filters",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "table_id": {
          "name": "table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "filter_config": {
          "name": "filter_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_saved_filters_table": {
          "name": "idx_saved_filters_table",
          "columns": [
            {
              "expression": "table_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "saved_filters_table_id_fkey": {
          "name": "saved_filters_table_id_fkey",
          "tableFrom": "saved_filters",
          "tableTo": "managed_tables",
          "schemaTo": "supamode",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "saved_filters_created_by_fkey": {
          "name": "saved_filters_created_by_fkey",
          "tableFrom": "saved_filters",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "supamode.sidebar_tools": {
      "name": "sidebar_tools",
      "schema": "supamode",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "component_path": {
          "name": "component_path",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "ordering": {
          "name": "ordering",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "required_permissions": {
          "name": "required_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "ui_config": {
          "name": "ui_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sidebar_tools_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "sidebar_tools_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "view_sidebar_tool": {
          "name": "view_sidebar_tool",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "((required_permissions = '[]'::jsonb) OR (EXISTS ( SELECT 1\n   FROM jsonb_array_elements(sidebar_tools.required_permissions) rp(value)\n  WHERE supamode.has_admin_permission(auth.uid(), ((rp.value ->> 'resource'::text))::supamode.system_resource, ((rp.value ->> 'action'::text))::character varying))))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.role_hierarchy": {
      "name": "role_hierarchy",
      "schema": "supamode",
      "columns": {
        "parent_role_id": {
          "name": "parent_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "child_role_id": {
          "name": "child_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "inherit_permissions": {
          "name": "inherit_permissions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_role_hierarchy_child": {
          "name": "idx_role_hierarchy_child",
          "columns": [
            {
              "expression": "child_role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_role_hierarchy_parent": {
          "name": "idx_role_hierarchy_parent",
          "columns": [
            {
              "expression": "parent_role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_hierarchy_parent_role_id_fkey": {
          "name": "role_hierarchy_parent_role_id_fkey",
          "tableFrom": "role_hierarchy",
          "tableTo": "roles",
          "schemaTo": "supamode",
          "columnsFrom": [
            "parent_role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_hierarchy_child_role_id_fkey": {
          "name": "role_hierarchy_child_role_id_fkey",
          "tableFrom": "role_hierarchy",
          "tableTo": "roles",
          "schemaTo": "supamode",
          "columnsFrom": [
            "child_role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "role_hierarchy_pkey": {
          "name": "role_hierarchy_pkey",
          "columns": [
            "parent_role_id",
            "child_role_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {
        "role_hierarchy_check": {
          "name": "role_hierarchy_check",
          "value": "parent_role_id <> child_role_id"
        }
      },
      "policies": {
        "view_role_hierarchy": {
          "name": "view_role_hierarchy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "supamode.current_user_has_account()"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.permission_group_system_permissions": {
      "name": "permission_group_system_permissions",
      "schema": "supamode",
      "columns": {
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "system_permission_id": {
          "name": "system_permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "added_by": {
          "name": "added_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_permission_group_system_permissions_group": {
          "name": "idx_permission_group_system_permissions_group",
          "columns": [
            {
              "expression": "group_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "permission_group_system_permissions_group_id_fkey": {
          "name": "permission_group_system_permissions_group_id_fkey",
          "tableFrom": "permission_group_system_permissions",
          "tableTo": "permission_groups",
          "schemaTo": "supamode",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permission_group_system_permissions_system_permission_id_fkey": {
          "name": "permission_group_system_permissions_system_permission_id_fkey",
          "tableFrom": "permission_group_system_permissions",
          "tableTo": "system_permissions",
          "schemaTo": "supamode",
          "columnsFrom": [
            "system_permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permission_group_system_permissions_added_by_fkey": {
          "name": "permission_group_system_permissions_added_by_fkey",
          "tableFrom": "permission_group_system_permissions",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "added_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "permission_group_system_permissions_pkey": {
          "name": "permission_group_system_permissions_pkey",
          "columns": [
            "group_id",
            "system_permission_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "supamode.user_preferences": {
      "name": "user_preferences",
      "schema": "supamode",
      "columns": {
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "table_id": {
          "name": "table_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_preferences_account": {
          "name": "idx_user_preferences_account",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_preferences_account_id_fkey": {
          "name": "user_preferences_account_id_fkey",
          "tableFrom": "user_preferences",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_preferences_table_id_fkey": {
          "name": "user_preferences_table_id_fkey",
          "tableFrom": "user_preferences",
          "tableTo": "managed_tables",
          "schemaTo": "supamode",
          "columnsFrom": [
            "table_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_preferences_pkey": {
          "name": "user_preferences_pkey",
          "columns": [
            "account_id",
            "table_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "supamode.permission_group_permissions": {
      "name": "permission_group_permissions",
      "schema": "supamode",
      "columns": {
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "added_by": {
          "name": "added_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_permission_group_permissions_group": {
          "name": "idx_permission_group_permissions_group",
          "columns": [
            {
              "expression": "group_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "permission_group_permissions_group_id_fkey": {
          "name": "permission_group_permissions_group_id_fkey",
          "tableFrom": "permission_group_permissions",
          "tableTo": "permission_groups",
          "schemaTo": "supamode",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permission_group_permissions_permission_id_fkey": {
          "name": "permission_group_permissions_permission_id_fkey",
          "tableFrom": "permission_group_permissions",
          "tableTo": "permissions",
          "schemaTo": "supamode",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permission_group_permissions_added_by_fkey": {
          "name": "permission_group_permissions_added_by_fkey",
          "tableFrom": "permission_group_permissions",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "added_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "permission_group_permissions_pkey": {
          "name": "permission_group_permissions_pkey",
          "columns": [
            "group_id",
            "permission_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "supamode.account_roles": {
      "name": "account_roles",
      "schema": "supamode",
      "columns": {
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_account_roles_account_id": {
          "name": "idx_account_roles_account_id",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_account_roles_role_id": {
          "name": "idx_account_roles_role_id",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_roles_account_id_fkey": {
          "name": "account_roles_account_id_fkey",
          "tableFrom": "account_roles",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "account_roles_role_id_fkey": {
          "name": "account_roles_role_id_fkey",
          "tableFrom": "account_roles",
          "tableTo": "roles",
          "schemaTo": "supamode",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "account_roles_assigned_by_fkey": {
          "name": "account_roles_assigned_by_fkey",
          "tableFrom": "account_roles",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "account_roles_pkey": {
          "name": "account_roles_pkey",
          "columns": [
            "account_id",
            "role_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "view_account_roles": {
          "name": "view_account_roles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(account_id = supamode.get_current_user_account_id())"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.role_system_permissions": {
      "name": "role_system_permissions",
      "schema": "supamode",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "system_permission_id": {
          "name": "system_permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "granted_by": {
          "name": "granted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_role_system_permissions_permission_id": {
          "name": "idx_role_system_permissions_permission_id",
          "columns": [
            {
              "expression": "system_permission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_role_system_permissions_role_id": {
          "name": "idx_role_system_permissions_role_id",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_system_permissions_role_id_fkey": {
          "name": "role_system_permissions_role_id_fkey",
          "tableFrom": "role_system_permissions",
          "tableTo": "roles",
          "schemaTo": "supamode",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_system_permissions_system_permission_id_fkey": {
          "name": "role_system_permissions_system_permission_id_fkey",
          "tableFrom": "role_system_permissions",
          "tableTo": "system_permissions",
          "schemaTo": "supamode",
          "columnsFrom": [
            "system_permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_system_permissions_granted_by_fkey": {
          "name": "role_system_permissions_granted_by_fkey",
          "tableFrom": "role_system_permissions",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "role_system_permissions_pkey": {
          "name": "role_system_permissions_pkey",
          "columns": [
            "role_id",
            "system_permission_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "view_role_system_permissions": {
          "name": "view_role_system_permissions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(role_id = ( SELECT get_current_user_role.id\n   FROM supamode.get_current_user_role() get_current_user_role(id, name, description, created_at, updated_at, is_system_role, metadata, rank, category, max_members, valid_from, valid_until)))"
        }
      },
      "isRLSEnabled": true
    },
    "supamode.role_permission_groups": {
      "name": "role_permission_groups",
      "schema": "supamode",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_role_permission_groups_role": {
          "name": "idx_role_permission_groups_role",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_role_permission_groups_valid": {
          "name": "idx_role_permission_groups_valid",
          "columns": [
            {
              "expression": "valid_until",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(valid_until IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_permission_groups_group_id_fkey": {
          "name": "role_permission_groups_group_id_fkey",
          "tableFrom": "role_permission_groups",
          "tableTo": "permission_groups",
          "schemaTo": "supamode",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_permission_groups_assigned_by_fkey": {
          "name": "role_permission_groups_assigned_by_fkey",
          "tableFrom": "role_permission_groups",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "role_permission_groups_role_id_fkey": {
          "name": "role_permission_groups_role_id_fkey",
          "tableFrom": "role_permission_groups",
          "tableTo": "roles",
          "schemaTo": "supamode",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "role_permission_groups_pkey": {
          "name": "role_permission_groups_pkey",
          "columns": [
            "role_id",
            "group_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "supamode.role_permissions": {
      "name": "role_permissions",
      "schema": "supamode",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "granted_by": {
          "name": "granted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_role_permissions_permission_id": {
          "name": "idx_role_permissions_permission_id",
          "columns": [
            {
              "expression": "permission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_role_permissions_role_id": {
          "name": "idx_role_permissions_role_id",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_permissions_role_id_fkey": {
          "name": "role_permissions_role_id_fkey",
          "tableFrom": "role_permissions",
          "tableTo": "roles",
          "schemaTo": "supamode",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_permissions_permission_id_fkey": {
          "name": "role_permissions_permission_id_fkey",
          "tableFrom": "role_permissions",
          "tableTo": "permissions",
          "schemaTo": "supamode",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_permissions_granted_by_fkey": {
          "name": "role_permissions_granted_by_fkey",
          "tableFrom": "role_permissions",
          "tableTo": "accounts",
          "schemaTo": "supamode",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "role_permissions_pkey": {
          "name": "role_permissions_pkey",
          "columns": [
            "role_id",
            "permission_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "view_role_permissions": {
          "name": "view_role_permissions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(role_id = ( SELECT get_current_user_role.id\n   FROM supamode.get_current_user_role() get_current_user_role(id, name, description, created_at, updated_at, is_system_role, metadata, rank, category, max_members, valid_from, valid_until)))"
        }
      },
      "isRLSEnabled": true
    }
  },
  "enums": {
    "supamode.permission_scope": {
      "name": "permission_scope",
      "values": [
        "database",
        "schema",
        "table",
        "column"
      ],
      "schema": "supamode"
    },
    "supamode.relation_type": {
      "name": "relation_type",
      "values": [
        "one_to_one",
        "one_to_many",
        "many_to_many"
      ],
      "schema": "supamode"
    },
    "supamode.system_resource": {
      "name": "system_resource",
      "values": [
        "membership",
        "role",
        "permission",
        "system_setting",
        "log",
        "tool"
      ],
      "schema": "supamode"
    }
  },
  "schemas": {
    "supamode": "supamode"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "system_permissions": {
        "columns": {
          "required_roles": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "exclude_roles": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "managed_tables": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "hidden_columns": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      }
    }
  }
}